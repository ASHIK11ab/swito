{% extends "login-register-layout.html" %}

{% block title %} Login {% endblock %}

{% macro get_flash_messages() %}
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% for category, msg in messages %}
      <p class="{{ category }} status-message">{{ msg }}</p>
    {% endfor %}
  {% endwith %}
{% endmacro %}

{% block body %}
  <h1>Login</h1>
  <section class="form-section">
    <form action="{{ url_for('login') }}" method="POST">
      <label for="Username">Username:</label>
      <input type="text" name="username" 
        placeholder="Enter Username" required>
      <label for="Password">Password:</label>
      <input type="password" name="password" 
        placeholder="Enter Password" required>
      
      {{ get_flash_messages() }}
      
      <button>Login</button>
      <a href="{{ url_for('register') }}">
        Dont have an account. register instead.
      </a>
    </form>
  </section>
{% endblock %}